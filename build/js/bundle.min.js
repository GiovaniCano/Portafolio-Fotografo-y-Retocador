"use strict";function contacto(){if("body-contacto"!==document.body.id)return;const e=window.location.search;if(new URLSearchParams(e).get("s")){const e=document.getElementById("form-sent-alert");e.classList.remove("hidden"),setTimeout(()=>e.classList.add("hidden"),4500)}}function fotografia(){if("body-fotografia"!==document.body.id)return;const e=[1,38,15,12,37,20,30,4,18,33,6,19,17,36,40,41],t=findOtherImages(42,e),n=[...e,...t];consoleRepeatedImages(n);const o=function(e){const t=[];return e.forEach(e=>{const n=document.createElement("source");n.srcset=`/build/img/foto/img-${e}-m.webp`;const o=document.createElement("img");o.src=`/build/img/foto/img-${e}-m.jpg`,o.loading="lazy",o.dataset.imgid=e.toString();const i=document.createElement("picture");i.appendChild(n),i.appendChild(o),t.push(i)}),t}(n),i=document.querySelector("#body-fotografia #content");l(),window.onresize=l;const s=document.getElementsByTagName("img");for(let e of s)e.oncontextmenu=e=>e.preventDefault(),e.ondragstart=e=>e.preventDefault(),e.onclick=e=>a(e);function a(e){const t=e.target.dataset.imgid,n=document.createElement("source");n.srcset=`/build/img/foto/img-${t}-b.webp`;const o=document.createElement("img");o.src=`/build/img/foto/img-${t}-b.jpg`,o.oncontextmenu=e=>e.preventDefault(),o.ondragstart=e=>e.preventDefault();const s=document.createElement("picture");s.appendChild(n),s.appendChild(o);const a=document.createElement("div");a.classList.add("fullsize-image"),a.onclick=e=>{e.currentTarget.remove(),document.body.classList.remove("no-scroll")},a.tabIndex=0,a.onkeydown=e=>{"Escape"===e.key&&e.currentTarget.remove()},a.appendChild(s),document.body.classList.add("no-scroll"),i.appendChild(a),a.focus()}function l(){i.innerHTML="";const e=window.innerWidth;switch(!0){case e>=1025:t(4);break;case e>=481:t(2);break;default:t(1)}function t(e){let t=[];for(let n=0;n<e;n++)t[n]=[];!function(e){let n=0;for(let o=0;o<e.length;o++)t[n].push(e[o]),n<t.length-1?n++:n=0}(o),t.forEach(e=>{const t=document.createElement("div");t.classList.add("index-column"),e.forEach(e=>{t.appendChild(e)}),i.appendChild(t)})}}}function findOtherImages(e,t){const n=[];for(let o=1;o<=e;o++)t.includes(o)||n.push(o);return n}function consoleRepeatedImages(e){const t=[];e.forEach((n,o)=>{let i=-1;e.forEach(e=>{n===e&&i++}),i>0&&t.push([o,n])}),t.length&&(console.log("\r"),console.warn("Hay imagenes repetidas:"),console.warn("[index, number]:"),console.warn(t),console.warn(e))}function getRandomNumber(e,t){return Math.floor(Math.random()*(t-e)+e)}function shuffleArray(e){let t=[...e],n=t.length;for(;0!=n;){const e=Math.floor(Math.random()*n);n--,[t[n],t[e]]=[t[e],t[n]]}return t}function headerMenu(){const e=document.getElementById("header-menu");e&&(e.onclick=()=>{document.getElementById("header-nav").classList.toggle("hidden")})}function home(){if("index-body"!==document.body.id)return;const e=shuffleArray(i("v",21)),t=shuffleArray(i("hc",21)),n=document.getElementById("index-gallery");function o(){n.innerHTML="";const o=window.innerWidth;switch(!0){case o>=1500:i(7);break;case o>=1025:i(6);break;case o>=481:i(4);break;default:i(3)}function i(o){let i=[];for(let e=0;e<o;e++)i[e]=[];function s(e,t=!1){if(t){let t=i.length-1;for(let n=0;n<e.length;n++)i[t].push(e[n]),t>0?t--:t=i.length-1}else{let t=0;for(let n=0;n<e.length;n++)i[t].push(e[n]),t<i.length-1?t++:t=0}}s(e),s(t,!0),i=shuffleArray(i),i.forEach((e,t)=>{i[t]=shuffleArray(e)}),i.forEach(e=>{const t=document.createElement("div");t.classList.add("index-column"),e.forEach(e=>{t.appendChild(e)}),n.appendChild(t)})}}function i(e,t){const n=[];for(let o=1;o<=t;o++){const t=document.createElement("source");t.srcset=`/build/img/foto/${e}/img-${o}.webp`;const i=document.createElement("img");i.src=`/build/img/foto/${e}/img-${o}.jpg`,i.loading="lazy";const s=document.createElement("picture");s.classList.add(e),s.appendChild(t),s.appendChild(i),n.push(s)}return n}o(),window.onresize=o,setTimeout(()=>{setInterval(()=>imageSwapper(),getRandomNumber(950,2050))},900)}function imageSwapper(){const e=document.getElementsByClassName("index-column"),t=Math.floor(Math.random()*e.length);let n=Math.floor(Math.random()*e.length);for(;t===n;)n=Math.floor(Math.random()*e.length);const o=e[t].children,i=e[n].children;let s=c(o,"v"),a=c(o,"hc"),l=c(i,"v"),r=c(i,"hc");e[t].children[s].after(e[n].children[r]);try{e[n].children[r].before(e[t].children[s])}catch(o){e[n].children[r-1].after(e[t].children[s])}e[t].children[a].after(e[n].children[l]);try{e[n].children[l].before(e[t].children[a])}catch(o){e[n].children[l-1].after(e[t].children[a])}function c(e,t){let n=Math.floor(Math.random()*e.length);for(;!e[n].classList.contains(t);)n=Math.floor(Math.random()*e.length);return n}}function retoque(){if("body-retoque"!==document.body.id)return;let e=[];e=window.innerWidth>=1025?[[9,0,9,!1],[3,0,3,!1],[2,1,1,!1],[7,0,7,!0],[8,0,8,!0],[5,4,4,!1],[6,0,0,!0],[10,0,0,!0]]:[[9,0,9,!1],[3,0,3,!1],[7,0,7,!0],[2,1,1,!1],[5,4,4,!1],[8,0,8,!0],[6,0,0,!0],[10,0,0,!0]];const t=document.documentElement.classList.contains("webp");e.forEach(e=>{const n=new RetouchPhoto(e[0],e[1],e[2],t,e[3]).makeRPWrapper();document.querySelector("#body-retoque #content").appendChild(n)})}console.log("Desarrollador: https://github.com/GiovaniCano"),document.addEventListener("DOMContentLoaded",(function(){home(),headerMenu(),fotografia(),retoque(),contacto()}));class RetouchPhoto{constructor(e,t,n,o,i,s=!1){this.imgID=null!=e?e:0,this.imgIDzoom=null!=t?t:0,this.imgIDmask=null!=n?n:0,this.isWebp=null!=o&&o,this.bgExt=o?"webp":"jpg",this.isHorizontal=null!=i&&i,this.isFullSize=null!=s&&s}makeRPWrapper(){const e=document.createElement("div");e.classList.add("rp-wrapper"),this.isHorizontal&&e.classList.add("horizontal"),e.dataset.imgid=this.imgID.toString(),e.dataset.imgidzoom=this.imgIDzoom.toString(),e.dataset.imgidmask=this.imgIDmask.toString();const t=document.createElement("div");e.appendChild(t),t.classList.add("rp-content");const n=document.createElement("picture");t.appendChild(n),n.classList.add("rp-picture");const o=document.createElement("source");n.appendChild(o),o.srcset=`/build/img/retoque/${this.imgID}-a.webp`;const i=document.createElement("img");n.appendChild(i),i.src=`/build/img/retoque/${this.imgID}-a.jpg`,i.loading="lazy",i.oncontextmenu=e=>e.preventDefault(),i.ondragstart=e=>e.preventDefault(),this.isFullSize&&(i.onload=t=>{t.target.width,t.target.height,e.clientHeight});const s=document.createElement("div");t.appendChild(s),s.classList.add("rp-before"),s.style.backgroundImage=`url(/build/img/retoque/${this.imgID}-b.${this.bgExt})`;const a=document.createElement("div");t.appendChild(a),a.classList.add("slider-line");const l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");a.appendChild(l),a.appendChild(r),a.appendChild(c),r.innerHTML='\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="#ffffff" stroke-linecap="round" stroke-linejoin="round">\n                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                            <path d="M20 15h-8v3.586a1 1 0 0 1 -1.707 .707l-6.586 -6.586a1 1 0 0 1 0 -1.414l6.586 -6.586a1 1 0 0 1 1.707 .707v3.586h8a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1z" />\n                        </svg>\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="#ffffff" stroke-linecap="round" stroke-linejoin="round">\n                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                            <path d="M4 9h8v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1z" />\n                        </svg>\n                    ';const d=document.createElement("input");t.appendChild(d),d.classList.add("slider-input"),d.type="range",d.min="0",d.max="100",d.value="50",d.oninput=e=>this.sliderOnInput(e.target),d.onmousedown=e=>this.sliderOnMouseDown(e.target),d.onmouseup=e=>this.sliderOnMouseUp(e.target);const m=document.createElement("div");e.appendChild(m),m.classList.add("image-icons");let u="";this.imgIDmask&&(u+='\n                    <svg class="icon-brush" title="Mascara Dodge & Burn" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.9" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                        <path d="M3 21v-4a4 4 0 1 1 4 4h-4" />\n                        <path d="M21 3a16 16 0 0 0 -12.8 10.2" />\n                        <path d="M21 3a16 16 0 0 1 -10.2 12.8" />\n                        <path d="M10.6 9a9 9 0 0 1 4.4 4.4" />\n                    </svg>\n                '),this.imgIDzoom&&(u+='\n                    <svg class="icon-zoom" title="Zoom" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.9" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                        <circle cx="10" cy="10" r="7" />\n                        <line x1="7" y1="10" x2="13" y2="10" />\n                        <line x1="10" y1="7" x2="10" y2="13" />\n                        <line x1="21" y1="21" x2="15" y2="15" />\n                    </svg>\n                '),this.isFullSize?u+='    \n                    <svg class="icon-minimize" title="Minimizar Imagen" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                        <polyline points="5 9 9 9 9 5" />\n                        <line x1="3" y1="3" x2="9" y2="9" />\n                        <polyline points="5 15 9 15 9 19" />\n                        <line x1="3" y1="21" x2="9" y2="15" />\n                        <polyline points="19 9 15 9 15 5" />\n                        <line x1="15" y1="9" x2="21" y2="3" />\n                        <polyline points="19 15 15 15 15 19" />\n                        <line x1="15" y1="15" x2="21" y2="21" />\n                    </svg>\n                ':u+='    \n                <svg class="icon-maximize" title="Maximizar Imagen" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.9" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n                    <polyline points="16 4 20 4 20 8" />\n                    <line x1="14" y1="10" x2="20" y2="4" />\n                    <polyline points="8 20 4 20 4 16" />\n                    <line x1="4" y1="20" x2="10" y2="14" />\n                    <polyline points="16 20 20 20 20 16" />\n                    <line x1="14" y1="14" x2="20" y2="20" />\n                    <polyline points="8 4 4 4 4 8" />\n                    <line x1="4" y1="4" x2="10" y2="10" />\n                </svg>\n            ',m.innerHTML=u;return m.querySelectorAll("svg").forEach(e=>{e.onclick=e=>{const t=e.currentTarget,n=t.parentNode.parentNode;let o=n.querySelector(".rp-picture source"),i=n.querySelector(".rp-picture img"),s=n.querySelector(".rp-before");if(t.classList.contains("icon-maximize")||t.classList.toggle("icon-active"),t.classList.contains("icon-brush")){const e=t.parentElement.querySelector(".icon-zoom");e&&e.classList.remove("icon-active")}else if(t.classList.contains("icon-zoom")){const e=t.parentElement.querySelector(".icon-brush");e&&e.classList.remove("icon-active")}if(t.classList.contains("icon-zoom")){let e;e=t.classList.contains("icon-active")?this.imgIDzoom:this.imgID,o.srcset=`/build/img/retoque/${e}-a.webp`,i.src=`/build/img/retoque/${e}-a.jpg`,s.style.backgroundImage=`url(/build/img/retoque/${e}-b.${this.bgExt})`}if(t.classList.contains("icon-brush")){let e,n;t.classList.contains("icon-active")?(e=this.imgIDmask,n="1"):(e=this.imgID,n="b"),o.srcset=`/build/img/retoque/${e}-a.webp`,i.src=`/build/img/retoque/${e}-a.jpg`,s.style.backgroundImage=`url(/build/img/retoque/${e}-${n}.${this.bgExt})`}t.classList.contains("icon-maximize")&&this.fullsize(),t.classList.contains("icon-minimize")&&(document.getElementsByClassName("fullsize-image")[0].remove(),document.body.classList.remove("no-scroll"))};let t="";switch(!0){case e.classList.contains("icon-maximize"):t="Pantalla Completa";break;case e.classList.contains("icon-brush"):t="Máscara D&B";break;case e.classList.contains("icon-zoom"):t="Zoom";break;case e.classList.contains("icon-minimize"):t="Salir de Pantalla Completa"}let n="bottom-start";window.innerWidth>=1025&&(n="right"),tippy(e,{content:t,placement:n,theme:"customTheme",animation:"shift-away"})}),e}fullsize(){document.body.classList.add("no-scroll");const e=document.querySelector("#body-retoque #content"),t=document.createElement("div");t.classList.add("fullsize-image"),t.onclick=e=>{const t=e.target;t.classList.contains("fullsize-image")&&(t.remove(),document.body.classList.remove("no-scroll"))},t.tabIndex=0,t.onkeydown=e=>{"Escape"===e.key&&e.currentTarget.remove()};const n=new RetouchPhoto(this.imgID,this.imgIDzoom,this.imgIDmask,this.isWebp,this.isHorizontal,!0).makeRPWrapper();t.appendChild(n),e.appendChild(t),t.focus()}sliderOnInput(e){const t=e.parentNode.children[2],n=e.parentNode.children[1],o=e.value+"%";t.style.left=`calc(${o} - 1.5px)`,n.style.width=o}sliderOnMouseDown(e){e.parentNode.children[2].children[1].classList.add("transparent");e.parentNode.children[2].children[0].classList.add("mousedown")}sliderOnMouseUp(e){e.parentNode.children[2].children[1].classList.remove("transparent");e.parentNode.children[2].children[0].classList.remove("mousedown")}}
//# sourceMappingURL=bundle.min.js.map
