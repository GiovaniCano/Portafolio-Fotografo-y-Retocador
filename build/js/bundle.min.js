"use strict";function getRandomNumber(e,t){return Math.floor(Math.random()*(t-e)+e)}function shuffleArray(e){let t=[...e],n=t.length;for(;0!=n;){const e=Math.floor(Math.random()*n);n--,[t[n],t[e]]=[t[e],t[n]]}return t}function headerMenu(){const e=document.getElementById("header-menu");e&&(e.onclick=()=>{document.getElementById("header-nav").classList.toggle("hidden")})}function indexGallery(){if(!document.getElementById("index-body"))return;const e=shuffleArray(r("v",21)),t=shuffleArray(r("hc",21)),n=document.getElementById("index-gallery");function o(){n.innerHTML="";const o=window.innerWidth;switch(!0){case o>=1500:r(7);break;case o>=1025:r(6);break;case o>=481:r(4);break;default:r(3)}function r(o){let r=[];for(let e=0;e<o;e++)r[e]=[];function c(e,t=!1){if(t){let t=r.length-1;for(let n=0;n<e.length;n++)r[t].push(e[n]),t>0?t--:t=r.length-1}else{let t=0;for(let n=0;n<e.length;n++)r[t].push(e[n]),t<r.length-1?t++:t=0}}c(e),c(t,!0),r=shuffleArray(r),r.forEach((e,t)=>{r[t]=shuffleArray(e)}),r.forEach(e=>{const t=document.createElement("div");t.classList.add("index-column"),e.forEach(e=>{t.appendChild(e)}),n.appendChild(t)})}}function r(e,t){const n=[];for(let o=1;o<=t;o++){const t=document.createElement("source");t.srcset=`/build/img/foto/${e}/img-${o}.webp`;const r=document.createElement("img");r.src=`/build/img/foto/${e}/img-${o}.jpg`,r.loading="lazy";const c=document.createElement("picture");c.classList.add(e),c.appendChild(t),c.appendChild(r),n.push(c)}return n}o(),window.onresize=o,setTimeout(()=>{setInterval(()=>imageSwapper(),getRandomNumber(950,2050))},900)}function imageSwapper(){const e=document.getElementsByClassName("index-column"),t=Math.floor(Math.random()*e.length);let n=Math.floor(Math.random()*e.length);for(;t===n;)n=Math.floor(Math.random()*e.length);const o=e[t].children,r=e[n].children;let c=s(o,"v"),i=s(o,"hc"),a=s(r,"v"),l=s(r,"hc");e[t].children[c].after(e[n].children[l]);try{e[n].children[l].before(e[t].children[c])}catch(o){e[n].children[l-1].after(e[t].children[c])}e[t].children[i].after(e[n].children[a]);try{e[n].children[a].before(e[t].children[i])}catch(o){e[n].children[a-1].after(e[t].children[i])}function s(e,t){let n=Math.floor(Math.random()*e.length);for(;!e[n].classList.contains(t);)n=Math.floor(Math.random()*e.length);return n}}function photoGallery(){if(!document.getElementById("body-fotografia"))return;const e=[1,38,15,12,37,20,30,4,18,33,6,19,17,36,40,41],t=findOtherImages(42,e),n=[...e,...t];consoleRepeatedImages(n);const o=function(e){const t=[];return e.forEach(e=>{const n=document.createElement("source");n.srcset=`/build/img/foto/img-${e}-m.webp`;const o=document.createElement("img");o.src=`/build/img/foto/img-${e}-m.jpg`,o.loading="lazy",o.dataset.imgid=e.toString();const r=document.createElement("picture");r.appendChild(n),r.appendChild(o),t.push(r)}),t}(n),r=document.querySelector("#body-fotografia #content");a(),window.onresize=a;const c=document.getElementsByTagName("img");for(let e of c)e.oncontextmenu=e=>e.preventDefault(),e.ondragstart=e=>e.preventDefault(),e.onclick=e=>i(e);function i(e){const t=e.target.dataset.imgid,n=document.createElement("source");n.srcset=`/build/img/foto/img-${t}-b.webp`;const o=document.createElement("img");o.src=`/build/img/foto/img-${t}-b.jpg`,o.oncontextmenu=e=>e.preventDefault(),o.ondragstart=e=>e.preventDefault();const c=document.createElement("picture");c.appendChild(n),c.appendChild(o);const i=document.createElement("div");i.classList.add("fullsize-image"),i.onclick=e=>{e.currentTarget.remove(),document.body.classList.remove("no-scroll")},i.appendChild(c),document.body.classList.add("no-scroll"),r.appendChild(i)}function a(){r.innerHTML="";const e=window.innerWidth;switch(!0){case e>=1025:t(4);break;case e>=481:t(2);break;default:t(1)}function t(e){let t=[];for(let n=0;n<e;n++)t[n]=[];!function(e){let n=0;for(let o=0;o<e.length;o++)t[n].push(e[o]),n<t.length-1?n++:n=0}(o),t.forEach(e=>{const t=document.createElement("div");t.classList.add("index-column"),e.forEach(e=>{t.appendChild(e)}),r.appendChild(t)})}}}function findOtherImages(e,t){const n=[];for(let o=1;o<=e;o++)t.includes(o)||n.push(o);return n}function consoleRepeatedImages(e){const t=[];e.forEach((n,o)=>{let r=-1;e.forEach(e=>{n===e&&r++}),r>0&&t.push([o,n])}),t.length&&(console.log("\r"),console.warn("Hay imagenes repetidas:"),console.warn("[index, number]:"),console.warn(t),console.warn(e))}function retoque(){document.getElementById("body-retoque")&&(beforeAfterSliders(),imgNodragnoConMenu(),iconsFunctions())}function iconsFunctions(){document.querySelectorAll(".image-icons svg").forEach(e=>e.onclick=e=>{const t=e.currentTarget,n=t.parentNode.parentNode,o=Number(n.dataset.imgid),r=Number(n.dataset.imgidzoom),c=Number(n.dataset.imgidmask);let i="jpg";if(document.documentElement.classList.contains("webp")&&(i="webp"),t.classList.contains("icon-maximize")||t.classList.toggle("icon-active"),t.classList.contains("icon-brush")){t.parentElement.querySelector(".icon-zoom").classList.remove("icon-active")}else if(t.classList.contains("icon-zoom")){t.parentElement.querySelector(".icon-brush").classList.remove("icon-active")}if(t.classList.contains("icon-maximize")&&console.log("FullSize imagen: "+o),t.classList.contains("icon-zoom")){let e,c=n.querySelector(".rp-picture source"),a=n.querySelector(".rp-picture img"),l=n.querySelector(".rp-before");e=t.classList.contains("icon-active")?r:o,c.srcset=`/build/img/retoque/${e}-a.webp`,a.src=`/build/img/retoque/${e}-a.jpg`,l.style.backgroundImage=`url(/build/img/retoque/${e}-b.${i})`}if(t.classList.contains("icon-brush")){let e,r,a=n.querySelector(".rp-picture source"),l=n.querySelector(".rp-picture img"),s=n.querySelector(".rp-before");t.classList.contains("icon-active")?(e=c,r="1"):(e=o,r="b"),a.srcset=`/build/img/retoque/${e}-a.webp`,l.src=`/build/img/retoque/${e}-a.jpg`,s.style.backgroundImage=`url(/build/img/retoque/${e}-${r}.${i})`}})}function imgNodragnoConMenu(){const e=document.getElementsByTagName("img");for(let t of e)t.oncontextmenu=e=>e.preventDefault(),t.ondragstart=e=>e.preventDefault()}function beforeAfterSliders(){document.querySelectorAll(".slider-input").forEach(e=>{e.addEventListener("input",(function(e){const t=e.target,n=t.parentNode.children[2],o=t.parentNode.children[1],r=t.value+"%";n.style.left=r,o.style.width=r})),e.addEventListener("mousedown",(function(e){const t=e.target;t.parentNode.children[2].children[1].classList.add("transparent");t.parentNode.children[2].children[0].classList.add("mousedown")})),e.addEventListener("mouseup",(function(e){const t=e.target;t.parentNode.children[2].children[1].classList.remove("transparent");t.parentNode.children[2].children[0].classList.remove("mousedown")}))})}console.log("Desarrollador: https://github.com/GiovaniCano"),document.addEventListener("DOMContentLoaded",(function(){indexGallery(),headerMenu(),photoGallery(),retoque()}));
//# sourceMappingURL=bundle.min.js.map
